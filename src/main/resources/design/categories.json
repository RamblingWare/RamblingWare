{
  "_id": "_design/categories",
  "views": {
    "category-all": {
      "map": "function (doc) {\n  emit(doc.category, 1);\n  }"
    },
    "category-published": {
      "map": "function (doc) {\n  if(doc.published) {\n    emit(doc.category, 1);\n  }\n }"
    },
    "category-count": {
      "reduce": "_sum",
      "map": "function (doc) {\n  if(doc.published) {\n    emit(doc.category, 1);\n  }\n}"
    }
  },
  "language": "javascript"
}