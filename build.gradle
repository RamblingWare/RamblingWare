plugins {
  id 'java'
  id 'jacoco'
  id 'war'
}

group = 'org.oddox'
version = '1.0.0'
war.baseName = 'oddox'
description = 'open source blog with an offline-first writer'
project.webAppDirName = 'WebContent'
sourceCompatibility = 1.8
targetCompatibility = 1.8
compileJava.options.encoding = 'UTF-8'

repositories {
  jcenter()
}

dependencies {
  // framework
  compile 'javax.servlet:javax.servlet-api:4.0.+'
  compile 'org.apache.struts:struts2-apps:2.5.+'
  compile 'org.apache.struts:struts2-json-plugin:2.3.+'  
  
  // database
  compile 'com.cloudant:cloudant-client:2.+'
  compile 'com.google.code.gson:gson:2.8.+'
  compile 'com.squareup.okhttp3:okhttp-urlconnection:3.8.+'
  
  // templates
  compile 'org.freemarker:freemarker:2.3.+'
  
  // logging
  compile 'org.apache.logging.log4j:log4j-core-its:2.+'
  
  // testing
  testCompile 'junit:junit:4.12'
  testCompile 'org.mockito:mockito-core:2.10.+'
}

javadoc {
  source = sourceSets.main.allJava
  classpath = configurations.compile
}

jacocoTestReport {
  reports {
    xml.enabled true
    html.enabled true
  }
}
