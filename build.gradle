apply plugin: 'java'
apply plugin: 'jacoco'
apply plugin: 'eclipse'
apply plugin: 'war'

group = 'com.ramblingware'
version = '1.0'
war.baseName = 'ramblingware'
project.webAppDirName = 'WebContent'

sourceCompatibility = 1.8
targetCompatibility = 1.8
compileJava.options.encoding = 'UTF-8'

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

dependencies {
	// maven
    compile 'org.apache.struts:struts2-apps:2.5.+'
    compile 'org.apache.logging.log4j:log4j-core-its:2.+'
    compile 'commons-codec:commons-codec:1.8'
    compile 'javax.servlet:javax.servlet-api:+'
    compile 'com.sun.mail:javax.mail:1.+'
    compile 'org.json:json:20160810'
    
    compile 'commons-dbcp:commons-dbcp:1.4'
    compile 'mysql:mysql-connector-java:5.1.25'
    //compile 'com.cloudant:cloudant-client:2.9.0'

    // jitpack
    compile 'com.github.amdelamar:jhash:v1.1.0'
    compile 'com.github.amdelamar:jotp:v1.1.0'

	testCompile 'junit:junit:4.12'
}

eclipse.project {
  	natures 'org.springsource.ide.eclipse.gradle.core.nature'
}

javadoc {
	source = sourceSets.main.allJava
	classpath = configurations.compile
}

jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled false
    }
}
